---
title: "Time Series - Covid-19Proj"
author: "Tai"
date: "3/27/2021"
output: html_document
---

# Datasets:
1) All Covid
2) Post Vaccine

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tswge)
All_Covid <- read_csv("All_Covid.csv")

Post_Vaccine <- read_csv("Post_Vaccine.csv")


```



#############
#### EDA ####
#############

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)


# All Covid Data
plotts.wge(All_Covid$new_cases_per_million)
plotts.wge(All_Covid$icu_patients_per_million)
plotts.wge(All_Covid$hosp_patients_per_million)
plotts.wge(All_Covid$new_vaccinations_smoothed_per_million)
plotts.wge(All_Covid$new_deaths_per_million)

# Post Vaccine
plotts.wge(Post_Vaccine$new_cases_per_million)
plotts.wge(Post_Vaccine$icu_patients_per_million)
plotts.wge(Post_Vaccine$hosp_patients_per_million)
plotts.wge(Post_Vaccine$new_vaccinations_smoothed_per_million)
plotts.sample.wge(Post_Vaccine$new_deaths_per_million)

```

## Post Vaccine DataFrame: Analyze 'New Death Per Million' Timeseries plots 
## Pick p and q
## Factor table for stationarity and seasonality analysis

```{r}
# Post Vaccine Data
plotts.sample.wge(Post_Vaccine$new_deaths_per_million)
dr_aic = aic.wge(Post_Vaccine$new_deaths_per_million) #picks p= 3 q = 2
factor.wge(dr_aic$phi) # freq peak at 0 and .1369
```

## Model Building
WIth AR(3) and MA(2)

```{r pressure, echo=FALSE}
est_arma = est.arma.wge(Post_Vaccine$new_deaths_per_million, p = 3, q = 2)
```

#### stationarize our dependant variable  ####


```{r pressure, echo=FALSE}
wn_dr = artrans.wge(Post_Vaccine$new_deaths_per_million,est_arma$phi)
wn_dr
```
